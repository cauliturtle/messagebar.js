(function(){function a(a){var c={close_delay:5e3,display_class:"mb--messagebar--show",disappear_class:"mb--messagebar--hide",default_class:"mb--messagebar",is_html:!1};this.setting=b(c,a),this.is_showing=!1,this.message_dom=null,this.initialized=!1,this.self_timer=null}var b=function(a,b){for(var c in b)a[c]=b[c];return a},c=function(a){var b={};for(var c in a)b[c]=a[c];return b},d=function(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},c=[];for(var d in b)c.push(d);var e=new RegExp("["+c.join("")+"]","g");return(""+a).replace(e,function(a){return b[a]})};a.prototype.initialize=function(){this.message_dom=document.createElement("div"),this.message_dom.classList.add(this.setting.default_class);var a=document.getElementsByTagName("body")[0];a.appendChild(this.message_dom),this.initialized=!0},a.prototype.show=function(a,e){if(!this.initialized)throw new Error("MessageBar is not initialized");this.is_showing&&this.restore(),this.is_showing=!0;var f=b(c(this.setting),e);this.message_dom.innerHTML=f.is_html?a:d(a),"string"==typeof f.display_class&&(f.display_class=[f.display_class]),this.message_dom.classList.add.apply(this.message_dom.classList,f.display_class),this.message_dom.setAttribute("data-mb-disappear-class",f.disappear_class),this.self_timer=setTimeout(this.close.bind(this),f.close_delay)},a.prototype.close=function(){var a=this.message_dom.getAttribute("data-mb-disappear-class");this.message_dom.addEventListener("transitionend",this.restore.bind(this),!0),this.message_dom.classList.add(a)},a.prototype.restore=function(){this.is_showing=!1,this.message_dom.innerHTML="",this.message_dom.className=this.setting.default_class,this.message_dom.removeAttribute("data-mb-disappear-class"),this.message_dom.removeEventListener("transitionend.disappear"),clearTimeout(this.self_timer),this.self_timer=null},a.prototype.alert=function(a){this.show(a,{display_class:["mb--messagebar--show","mb--messagebar--alert"]})},a.prototype.success=function(a){this.show(a,{display_class:["mb--messagebar--show","mb--messagebar--success"]})},a.prototype.warning=function(a){this.show(a,{display_class:["mb--messagebar--show","mb--messagebar--warning"]})},this.MessageBar=a}).call(this);